<div class="d-flex justify-content-center mt-5">
    <h1>Habilidades</h1>
    <app-button-crud class="mt-2 ms-3" [opcion]="'create'" [objetoUrl]="'habilidad'"></app-button-crud>
</div>
<div class="card mt-3 mb-5">

    <div *ngFor="let habilidad of habilidades; let i=index" class="row mt-3">
        <form id="{{'form'+i}}" (ngSubmit)="guardar(habilidad)">
            <div class="d-flex flex-row align-items-center" style="justify-content: center;">
                <div class="col-1">
                    <h6 *ngIf="edicion!=i; else editarNombreHabilidad" class="text-end m-2">{{habilidad.nombre}}</h6>
                    <ng-template #editarNombreHabilidad>
                        <input class="form-control" id="{{'nombre'+i}}" name="{{'nombre'+i}}"
                            [(ngModel)]="habilidad.nombre">
                    </ng-template>
                </div>
                <div class="col-8">
                    <div class="progress m-2">
                        <div class="progress-bar" role="progressbar" aria-label="Basic example"
                            [attr.style]="'width: '+habilidad.nivelHabilidad+'%'"
                            [attr.aria-valuenow]="habilidad.nivelHabilidad" aria-valuemin="0" aria-valuemax="100"></div>
                    </div>
                </div>
                <div class="col-3 d-flex flex-row align-items-center">
                    <div *ngIf="edicion!=i; else editarNivelHabilidad">
                        <p>{{habilidad.nivelHabilidad}}%</p>
                    </div>
                    <ng-template #editarNivelHabilidad>
                        <input class="form-control" style="width:70px" type="number" max="100" min="1"
                            id="{{'nivelHabilidad'+i}}" name="{{'nivelHabilidad'+i}}"
                            [(ngModel)]="habilidad.nivelHabilidad">
                        <button class="btn btn-primary m-3" style="width: 15%;" type="submit"><i
                                class="fa-solid fa-floppy-disk" title="Guardar Cambios"></i></button>
                    </ng-template>
                    <app-button-crud [opcion]="'edit'"
                        class="boton-editar" (click)="toggleEditar(i)"></app-button-crud>
                        <app-button-crud [opcion]="'delete'" [objetoUrl]="'habilidad/'+habilidad.id"
                        class="boton-editar"></app-button-crud>
                </div>
            </div>

        </form>
    </div>



</div>